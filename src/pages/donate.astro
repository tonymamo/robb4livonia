---
import { Image } from "@astrojs/image/components"
import BaseLayout from "../layouts/BaseLayout.astro"

import ContactCTA from "../components/ContactCTA.astro"
import Hero from "../components/Hero.astro"
import Icon from "../components/Icon.astro"
---

<BaseLayout title="Donate | Robb 4 Livonia">
  <div class="stack gap-20">
    <main class="wrapper about">
      <Hero
        title="Donate Now"
        tagline="Thanks for your supportâ€”together we can shape the future of Livonia"
      >
        <Image
          width={768}
          height={296}
          format="webp"
          src="/assets/family-seal-cropped-1.png"
          alt="Robb Drzewicki with his wife and two sons in front of the City of Livonia seal"
        />
      </Hero>

      <section>
        <div class="content">
          <script is:inline type="text/javascript">
            ;(function () {
              var scripts = document.getElementsByTagName("script"),
                thisScriptTag = scripts[scripts.length - 1],
                iframe = document.createElement("iframe")

              thisScriptTag.parentNode.insertBefore(iframe, thisScriptTag)
              iframe.src =
                "https://politics.raisethemoney.com/en/rdrzewicki/w?iframe=true"
              iframe.width = "100%"
              iframe.scrolling = "no"
              iframe.setAttribute("seamless", true)
              iframe.setAttribute("frameBorder", 0)

              window.addEventListener("message", function (e) {
                iframe.height = e.data
              })
            })()
          </script>
        </div>
      </section>
    </main>
  </div>
  <div class="items-center max-w-[65ch] my-24 mx-auto text-center">
    <header class="gap-6 flex flex-col">
      <h3 class="text-5xl">Get Involved</h3>
      <p class="text-xl">
        Interested in helping out in another way? Learn more about how you can
        help, whether that's hosting a party, attending an event, putting a sign
        in your yard, or texting fellow Livonians to spread the word.
      </p>
      <div>
        <a
          href="/help/"
          rel="prefetch"
          class="inline-block rounded-full mt-4 px-8 py-4 focus:ring bg-[var(--accent-regular)] text-white hover:bg-[var(--accent-regular)]"
          >Help <Icon icon="arrow-right" size="1.2em" /></a
        >
      </div>
    </header>
  </div>

  <ContactCTA />
</BaseLayout>

<style>
  .about {
    display: flex;
    flex-direction: column;
    gap: 3.5rem;
  }

  img {
    margin-top: 1.5rem;
    border-radius: 1.5rem;
    box-shadow: var(--shadow-md);
  }

  section {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    color: var(--gray-200);
  }

  .section-title {
    grid-column-start: 1;
    font-size: var(--text-xl);
    color: var(--gray-0);
  }

  .content {
    grid-column: 2 / 2;
  }

  .content :global(a) {
    text-decoration: 1px solid underline transparent;
    text-underline-offset: 0.25em;
    transition: text-decoration-color var(--theme-transition);
  }

  .content :global(a:hover),
  .content :global(a:focus) {
    text-decoration-color: currentColor;
  }

  @media (min-width: 50em) {
    .about {
      display: grid;
      grid-template-columns: 1fr 60% 1fr;
    }

    .about > :global(:first-child) {
      grid-column-start: 2;
    }

    section {
      display: contents;
      font-size: var(--text-lg);
    }
  }
</style>
